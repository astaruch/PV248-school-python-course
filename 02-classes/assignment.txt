Exercise 2: Objects
• create a class hierarchy for printed scores
• deϐine (at least) the folowing classes
− Print, Edition, Composition, Voice, Person
• deϐine suitable constructors (__init__)
• you can use additional helper classes
Prints, Editions & Compositions
• printed score belongs to an edition
• an edition has an author (an editor)
• edition of is a particular composition
• the composition has an author (composer)
• both editors and composers are people
Voices
• compositions can have multiple voices
• each voice has a range and a name (instrument)
• one or both may be unknown
• ranges are written using a double dash (--)
The Print class
• attributes
− edition (instance of Edition)
− print_id (integer, from Print Number:)
− partiture (boolean)
• method format()
− reconstructs and prints the original stanza
• method composition() (= edition.composition)
The Edition class
• attributes
− composition (instance of Composition)
− authors (a list of Person instances)
− name (a string, from the Edition: ϐield, or None)
The Composition class
• attributes
− name, incipit, key and genre (strings or None)
− year (integer if an integral year is given or None)
− voices (a list of Voice instances)
− authors (a list of Person instances)
Voice and Person
• Voice attributes
− name, range (strings or None)
• Person attributes
− name (string)
− born, died (integers or None)
Exercise 2: Parsing
• write a load(filename) function that reads the text
− this will be the same scorelib.txt as before
• the function returns a list of Print instances
• the list should be sorted by the print number (print_id)
Exercise 2: Module
• the classes should live in scorelib.py
• add a simple test script, test.py
− this will take a single ϐilename
− invocation: ./test.py scorelib.txt
− run load() on that ϐilename
− call format() on each Print, add empty lines

Doplňující informace ke druhému cvičení:

- pokud obsahuje 'Voice N:' podřetězec '--', znaky okolo jsou chápány jako 
  rozsah (range), jinak je range None; rozpoznaný range a případná čárka a mezera za
  ním je z textu odstraněna a zbytek (je-li neprázdný) je použit jako 'name'
- pokud Voice neobsahuje rozsah ale je neprázdný, je celý chápán jako 'name'
- roky narození a úmrtí stačí uvažovat opět jsou-li ve formátu 4 číslice; je ale
  potřeba rozeznávat všechny případy formátování (jeden nebo oba roky, jednoduché
  i dvojité pomlky a značky * pro narození resp. + pro úmrtí)
- pro výpis narození/úmrtí použijte formát s '--' (tzn. třeba 1750--, --1800
  nebo 1750--1800)
- pokud je nějaká hodnota None, nemusí se ve výpisu pomoci format() odpovídající
  řádek vůbec objevit, nebo může být prázdný
- sekvence load() → format() → load() → format() by měla dát stejný výsledek jako
  samotné load() → format() [tzn. load() + format() by mělo být idempotentní]
